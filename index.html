<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Loan Calculator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Athiti:wght@200;300;400;500;600;700&display=swap');

        body {
            color: white;
            font-family: "Athiti", sans-serif;
            font-style: normal;
            background-color: #0cbaba;
            background-image: linear-gradient(315deg, #0cbaba 0%, #380036 74%);
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
    </style>
</head>

<body>
    <center>
        <h1 style="font-size: 50px; padding: 30px; font-weight: 900;">เครื่องคำนวณเงินกู้ Loan Calculator</h1>

        <!--Input principle-->
        <h2 style="padding: 10px;">จำนวนเงินที่ต้องการกู้ (บาท)</h2>
        <input type="number" id="money">

        <!--Input interest rate-->
        <h2 style="padding: 10px;">อัตราดอกเบี้ยรายปี %</h2>
        <input type="number" id="interestrate">

        <!--Input year-->
        <h2 style="padding: 10px;">จำนวนปีของการกู้ยืม</h2>
        <input type="number" id="year"><br><br>

        <!--Calculate button-->
        <div class="container mt-3"><button type="button" class="btn btn-dark btn-lg"
                onclick="LoanCalculator()">Calculate!</button><br><br>
        </div>

        <!--Result-->
        <h2 id="monthlyinstallment"></h2>
        <h2 id="principle"></h2>
        <h2 id="interest"></h2>
        <h2 id="total"></h2>

        <script>
            function LoanCalculator() {

                // กำหนดตัวแปร :

                var princicle = document.getElementById("money").value;
                var money = princicle * 1

                var interestrate = document.getElementById("interestrate").value;
                var r = (interestrate / 12) / 100

                var year = document.getElementById("year").value;
                var month = year * 12

                // คำนวณหาผลลัพธ์แล้วแสดงออกมา :

                var monthlyinstallment = money * (r * ((1 + r) ** month)) / (((1 + r) ** month) - 1);
                document.getElementById("monthlyinstallment").innerHTML = "คุณจะต้องผ่อนเดือนละ: " + monthlyinstallment;

                var interest = (monthlyinstallment * month) - money
                document.getElementById("principle").innerHTML = "เงินต้น: " + money;
                document.getElementById("interest").innerHTML = "ดอกเบี้ย: " + interest;

                var total = money + interest
                document.getElementById("total").innerHTML = "รวมทั้งหมด: " + total;
            }
            LoanCalculator();
        </script>
    </center>
</body>

</html>